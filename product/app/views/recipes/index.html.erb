<!-- app/views/recipes/index.html.erb -->

<% if @ingredients.blank? %>
<div class="alert alert-info p-4">
    <p>レシピを書くときは<%= link_to '材料一覧', ingredients_path %>で材料と㌘あたり原価を入力してね！</p>
</div>
<% end %>

<h1 class="mb-4">レシピ一覧</h1>


    <% if @recipes.any? %>
        <table class="table table-bordered table-hover">
            <thead class="bg-light">
                <tr>
                    <th>レシピ名</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <% @recipes.each_with_index do |recipe, index| %>
                    <tr>
                        <td><%= index + 1 %>. <%= link_to recipe.title, recipe %></td>
                        <td>
                            <%= link_to '編集', edit_recipe_path(recipe.id), class: 'btn-square-so-pop edit-btn' %>
                            <%= button_to "削除", recipe_path(recipe.id), method: :delete, class: 'btn-square-so-pop delete-btn' %>
                        </td>
                    </tr>
                <% end %>
            </tbody>
        </table>
    <% else %>
        <div class="alert alert-info">
            登録されているレシピはありません。
        </div>
    <% end %>


  <div class="mt-3">
    <%= link_to '戻る', request.referer || root_path, class: 'btn-square-so-pop return-btn' %>
  </div>

<style>
    .edit-btn {
    border: solid 3px #000000;
    padding: 6px;
    margin: 10px;
    background-color: green;
    border-radius: 20px;
    text-decoration: none;
}

.delete-btn {
    border: solid 3px #000000;
    padding: 6px;
    margin: 10px;
    background-color: red;
    border-radius: 20px;
    text-decoration: none;
}

.return-btn {
    border: solid 3px #000000;
    padding: 6px;
    margin: 10px;
    background-color: #8CA404;
    border-radius: 20px;
    text-decoration: none;
}


.btn-square-so-pop {
  position: relative;
  display: inline-block;
  padding: 0.25em 0.5em;
  text-decoration: none;
  color: #FFF;
  border-radius: 4px;/*角の丸み*/
  box-shadow: inset 0 2px 0 rgba(255,255,255,0.2), inset 0 -2px 0 rgba(0, 0, 0, 0.05);
  font-weight: bold;
  border: solid 2px #000000;
}

.btn-square-so-pop:active {
  /*押したとき*/
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.30);
}
</style>
