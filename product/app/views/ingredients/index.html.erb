<div class="container mt-2">
  <h1 class="mb-3">材料リスト</h1>

  <div class="card mb-4" id="ingredient_form">
    <div class="card-body">
      <%= form_with(model: @ingredient, url: ingredients_path, remote: true) do |form| %>
        <div class="mb-3">
          <%= form.label :'材料名', class: 'form-label' %>
          <%= form.text_field :name, class: 'form-control' %>
        </div>
        <div class="mb-3">
          <%= form.label :'㌘あたり原価', class: 'form-label' %>
          <div class="input-group">
            <%= form.number_field :cost_per_gram, step: 0.1, class: 'form-control' %>
            <span class="input-group-text">円</span>
          </div>
        </div>
        <%= form.submit '材料を追加する', class: 'btn btn-primary' %>
      <% end %>
    </div>
  </div>

  <div id="ingredient_list">
    <!-- ここに材料リストを表示 -->
    <% @ingredients.each do |ingredient| %>
      <div class="mb-2">
        <span class="mr-2"><strong><%= ingredient.name %></strong> : <%= ingredient.cost_per_gram %>円</span>
        <%= link_to ingredient_path(ingredient.id), data: { turbo_method: :delete, turbo_confirm: "削除してよろしいですか？" }, remote: true, class: 'btn btn-danger btn-sm' do %>
          削除
        <% end %>
      </div>
    <% end %>
  </div>
</div>

  <div class="mt-3">
    <%= link_to '戻る', request.referer || root_path, class: 'btn btn-outline-secondary' %>
  </div>
